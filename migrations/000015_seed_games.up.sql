-- Seed initial games from tjudge-cli

INSERT INTO games (id, name, display_name, rules, created_at, updated_at)
VALUES
(
    gen_random_uuid(),
    'dilemma',
    'Дилемма заключённого',
    E'# Дилемма заключённого (Prisoner''s Dilemma)\n\n## Описание\n\nКлассическая игра из теории игр, в которой два игрока одновременно выбирают одно из двух действий: **сотрудничать** или **предать**.\n\n## Правила\n\n### Ходы\nКаждый раунд оба игрока одновременно делают выбор:\n- `C` (Cooperate) - сотрудничать\n- `D` (Defect) - предать\n\n### Подсчёт очков\n\n| Игрок 1 | Игрок 2 | Очки игрока 1 | Очки игрока 2 |\n|---------|---------|---------------|---------------|\n| C       | C       | 3             | 3             |\n| C       | D       | 0             | 5             |\n| D       | C       | 5             | 0             |\n| D       | D       | 1             | 1             |\n\n### Количество раундов\nИгра состоит из **100 раундов**.\n\n## Протокол взаимодействия\n\n### Ввод\n- Первая строка: номер вашего игрока (1 или 2)\n- Каждый последующий ход: предыдущий ход противника (`C` или `D`), или пустая строка для первого хода\n\n### Вывод\n- На каждый ход выведите ваш выбор: `C` или `D`\n\n### Пример\n```\n// Ввод (первый ход)\n1\n\n// Вывод\nC\n\n// Ввод (второй ход)\nD\n\n// Вывод\nD\n```\n\n## Стратегии\n\nИзвестные стратегии:\n- **Tit-for-Tat**: начать с C, затем повторять ход противника\n- **Always Cooperate**: всегда выбирать C\n- **Always Defect**: всегда выбирать D\n- **Random**: случайный выбор\n- **Grim Trigger**: C пока противник не предаст, затем всегда D',
    NOW(),
    NOW()
),
(
    gen_random_uuid(),
    'tug_of_war',
    'Перетягивание каната',
    E'# Перетягивание каната (Tug of War)\n\n## Описание\n\nИгра на управление ресурсами, в которой два игрока соревнуются в перетягивании каната, расходуя энергию.\n\n## Правила\n\n### Начальные условия\n- Канат находится в позиции **0** (центр)\n- Каждый игрок имеет **100 единиц энергии**\n- Цель: переместить канат на свою сторону\n\n### Механика\n- Каждый раунд игроки одновременно выбирают, сколько энергии потратить (от 0 до доступного количества)\n- Канат смещается в сторону игрока, потратившего больше энергии\n- Величина смещения = разница потраченной энергии\n\n### Победа\n- Игрок 1 побеждает, если канат в позиции >= 10\n- Игрок 2 побеждает, если канат в позиции <= -10\n- Игра заканчивается после **50 раундов** или при достижении победной позиции\n- При ничьей побеждает тот, на чьей стороне канат\n\n## Протокол взаимодействия\n\n### Ввод\nПервая строка: номер игрока (1 или 2)\n\nКаждый последующий раунд:\n```\n<позиция_каната> <ваша_энергия> <энергия_противника> <ход_противника>\n```\n\nДля первого хода `<ход_противника>` будет -1.\n\n### Вывод\nНа каждый ход выведите число от 0 до вашей текущей энергии.\n\n### Пример\n```\n// Ввод (первый ход)\n1\n0 100 100 -1\n\n// Вывод\n20\n\n// Ввод (второй ход)\n5 80 85 15\n\n// Вывод\n10\n```\n\n## Стратегии\n\n- **Aggressive**: тратить много в начале\n- **Conservative**: экономить энергию\n- **Adaptive**: подстраиваться под противника\n- **Proportional**: тратить пропорционально оставшейся энергии',
    NOW(),
    NOW()
)
ON CONFLICT (name) DO UPDATE SET
    display_name = EXCLUDED.display_name,
    rules = EXCLUDED.rules,
    updated_at = NOW();
