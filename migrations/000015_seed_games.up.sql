-- Seed games from tjudge-cli

INSERT INTO games (id, name, display_name, rules, created_at, updated_at)
VALUES
(
    gen_random_uuid(),
    'prisoners_dilemma',
    'Дилемма заключённого',
    E'# Дилемма заключённого (Prisoner''s Dilemma)\n\n## Описание\n\nКлассическая игра из теории игр, в которой два игрока одновременно выбирают одно из двух действий: **сотрудничать** или **предать**.\n\n## Правила\n\n### Ходы\nКаждый раунд оба игрока одновременно делают выбор:\n- `C` (Cooperate) - сотрудничать\n- `D` (Defect) - предать\n\n### Подсчёт очков\n\n| Игрок 1 | Игрок 2 | Очки игрока 1 | Очки игрока 2 |\n|---------|---------|---------------|---------------|\n| C       | C       | 3             | 3             |\n| C       | D       | 0             | 5             |\n| D       | C       | 5             | 0             |\n| D       | D       | 1             | 1             |\n\n## Протокол взаимодействия\n\n### Ввод\nКаждый ход: предыдущий ход противника (`C` или `D`), или пустая строка для первого хода\n\n### Вывод\nНа каждый ход выведите ваш выбор: `C` или `D`',
    NOW(),
    NOW()
),
(
    gen_random_uuid(),
    'tug_of_war',
    'Перетягивание каната',
    E'# Перетягивание каната (Tug of War)\n\n## Описание\n\nИгра на управление ресурсами, в которой два игрока соревнуются в перетягивании каната, расходуя энергию.\n\n## Правила\n\n### Начальные условия\n- Канат находится в позиции **0** (центр)\n- Каждый игрок имеет **100 единиц энергии**\n- Цель: переместить канат на свою сторону\n\n### Механика\n- Каждый раунд игроки одновременно выбирают, сколько энергии потратить (от 0 до доступного количества)\n- Канат смещается в сторону игрока, потратившего больше энергии\n- Величина смещения = разница потраченной энергии\n\n### Победа\n- Игрок 1 побеждает, если канат в позиции >= 10\n- Игрок 2 побеждает, если канат в позиции <= -10\n- Игра заканчивается после **50 раундов** или при достижении победной позиции\n\n## Протокол взаимодействия\n\n### Ввод\n```\n<позиция_каната> <ваша_энергия> <энергия_противника> <ход_противника>\n```\n\nДля первого хода `<ход_противника>` будет -1.\n\n### Вывод\nНа каждый ход выведите число от 0 до вашей текущей энергии.',
    NOW(),
    NOW()
),
(
    gen_random_uuid(),
    'good_deal',
    'Выгодная сделка',
    E'# Выгодная сделка (Good Deal)\n\n## Описание\n\nИгра-торг, где один игрок предлагает разделить ресурс, а другой решает принять или отклонить.\n\n## Правила\n\n### Параметры\n- **R** = 100 — общий ресурс для деления\n- **T** = 50 — штраф при отказе\n\n### Механика\nКаждый раунд роли чередуются:\n- **Игрок A** предлагает сумму M (от 0 до R)\n- **Игрок B** решает принять (1) или отклонить (0)\n\n### Подсчёт очков\n- При принятии: A получает R-M, B получает M\n- При отказе: оба теряют T очков\n\n## Протокол взаимодействия\n\n### Ввод для A\n```\nR\nT\nA\n```\nПосле хода: решение B (0 или 1)\n\n### Вывод A\nЧисло M от 0 до R\n\n### Ввод для B\n```\nR\nT\nB\nM\n```\n\n### Вывод B\n`1` — принять, `0` — отклонить',
    NOW(),
    NOW()
),
(
    gen_random_uuid(),
    'balance_of_universe',
    'Баланс вселенной',
    E'# Баланс вселенной (Balance of Universe)\n\n## Описание\n\nИгра на кооперацию с элементами жадности. Игроки кладут слитки на весы, пытаясь сохранить баланс.\n\n## Правила\n\n### Начальные условия\n- Каждый игрок имеет **N = 100 слитков**\n- Игра продолжается пока у обоих есть слитки\n\n### Механика\nКаждый раунд:\n1. Оба игрока одновременно выбирают сколько слитков положить (от 0 до оставшихся)\n2. Подсчитывается результат\n\n### Подсчёт очков\n- Если разница ≤ 1 (баланс): оба получают сумму слитков\n- Если разница > 1 (дисбаланс): слитки получает тот, кто положил больше\n\n## Протокол взаимодействия\n\n### Ввод\nПервая строка: N (количество слитков)\nКаждый следующий раунд: количество слитков противника\n\n### Вывод\nНа каждый ход выведите число от 0 до оставшихся слитков',
    NOW(),
    NOW()
)
ON CONFLICT (name) DO UPDATE SET
    display_name = EXCLUDED.display_name,
    rules = EXCLUDED.rules,
    updated_at = NOW();
